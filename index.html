<!DOCTYPE html>
<html>
  <head>
    <title>Angular Hello World</title>
    <script src="./node_modules/angular/angular.js"></script>
    <script type="text/javascript">
      var app = angular.module("my-app", []);
      app.controller('MainController', ($scope) => {
        $scope.name = '';
        $scope.sayGreeting = () => {
          $scope.message = 'Hello, ' + $scope.name + '!';
          $scope.name = '';
        };
      });
      app.controller('SecondController', ($scope) => {
        $scope.name = '';
        $scope.sayGoodbye = () => {
          $scope.message = 'Goodbye, ' + $scope.name + '!';
          $scope.name = '';
        };
      });
      app.directive('clock', ($interval, dateFilter) => {
        return {
          controller: ($scope, $interval) => {
            function update() {
              $scope.time = new Date();
            }
            update();
            $interval(update, 1000);
          },
          template: '<span>{{time | date: \'hh:mm:ss\'}}</span>'
        };
      });
    </script>
  </head>
  <body>
    <div ng-app="my-app">
      <clock></clock>
      <div ng-controller="MainController">
        What is your name?<br>
        <form ng-submit="sayGreeting()">
          <input type="text" ng-model="name">
          <button>Submit</button><br>
          {{message}}
        </form>
      </div>
      <div ng-controller="SecondController">
        What is your name?<br>
        <form ng-submit="sayGoodbye()">
          <input type="text" ng-model="name">
          <button>Submit</button><br>
          {{message}}
        </form>
      </div>
    </div>
  </body>
</html>
